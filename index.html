<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
  
    <title>Keith Smiley</title>
  

    <meta name="author" content="Keith Smiley">
    <link rel="author" href="https://plus.google.com/114321628813035573740/">
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml">

    <link rel="icon" href="/images/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">

    <!-- Thank you http://mathiasbynens.be/notes/touch-icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/touchicons/apple-touch-icon-144x144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/touchicons/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/touchicons/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/images/touchicons/apple-touch-icon-precomposed.png">

    <!--[if lt IE 9]>
      <script type="text/javascript" language="Javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/css/style.css" title="default">
  </head>
  <body>
    <section class="container">
      <div id="masthead">
        <h1>
          <a href="/">Keith Smiley</a>
          - <a href="http://keith.so" title="Who is this guy?">Who?</a>
        </h1>
      </div>

      <section class="content">
        
<article>
  <header class="seven columns">
    
      <h2><a href="/2015/03/14/nsprogress-with-asynchronous-tasks/">NSProgress with Asynchronous Tasks</a></h2>
    
    <p>
      <time datetime="2015-03-14 18:57:00 -0700" pubdate="pubdate">
        14 Mar 2015
      </time>
      <a class="permalink" title="Permalink" href="/2015/03/14/nsprogress-with-asynchronous-tasks/">&infin;</a>
    </p>
  </header>

  <div class="post ten columns">
    <p>After having a use for <code>NSProgress</code> I finally got a chance to dive in to
its API. I found it to be less than understandable. So I wrote about it
on the thoughtbot blog. You can find my post, <a href="https://robots.thoughtbot.com/asynchronous-nsprogress">NSProgress with
Asynchronous Tasks,
here</a>.</p>

  </div>
</article>

<article>
  <header class="seven columns">
    
      <h2><a href="/2015/03/14/reactive-cocoa-and-core-data/">ReactiveCocoa and Core Data</a></h2>
    
    <p>
      <time datetime="2015-03-14 18:53:00 -0700" pubdate="pubdate">
        14 Mar 2015
      </time>
      <a class="permalink" title="Permalink" href="/2015/03/14/reactive-cocoa-and-core-data/">&infin;</a>
    </p>
  </header>

  <div class="post ten columns">
    <p>After finally starting to use
<a href="https://github.com/ReactiveCocoa/ReactiveCocoa">ReactiveCocoa</a> I found
integrating with Core Data to be sore spot. I wrote about improving this
integration on the thoughtbot blog
<a href="https://robots.thoughtbot.com/reactive-core-data">here</a>.</p>

  </div>
</article>

<article>
  <header class="seven columns">
    
      <h2><a href="/2015/03/14/writing-vim-syntax-plugins/">Writing Vim Syntax Plugins</a></h2>
    
    <p>
      <time datetime="2015-03-14 18:48:00 -0700" pubdate="pubdate">
        14 Mar 2015
      </time>
      <a class="permalink" title="Permalink" href="/2015/03/14/writing-vim-syntax-plugins/">&infin;</a>
    </p>
  </header>

  <div class="post ten columns">
    <p>After <a href="http://www.smileykeith.com/2015/03/14/clojure/">writing about
Clojure</a> I wrote about
writing Vim syntax plugins. Check it out
<a href="https://robots.thoughtbot.com/writing-vim-syntax-plugins">here</a>.</p>

  </div>
</article>

<article>
  <header class="seven columns">
    
      <h2><a href="/2015/03/14/clojure/">Clojure</a></h2>
    
    <p>
      <time datetime="2015-03-14 18:27:00 -0700" pubdate="pubdate">
        14 Mar 2015
      </time>
      <a class="permalink" title="Permalink" href="/2015/03/14/clojure/">&infin;</a>
    </p>
  </header>

  <div class="post ten columns">
    <p>I haven't had anything to write in a while. Mainly because, as I've been
working at <a href="https://thoughtbot.com">thoughtbot</a>, I've been writing
everything I can on <a href="https://robots.thoughtbot.com">the thoughtbot
blog</a>. I spent a little while writing
<a href="http://clojure.org">Clojure</a>, and out of that came a few posts.</p>

<p>Overall I wasn't a big fan of Clojure. I definitely lean more towards
functional languages <a href="https://www.haskell.org">with types</a> but I wanted
to link these articles here regardless.</p>

<ul>
<li><a href="https://robots.thoughtbot.com/getting-started-with-liberator">Getting Started with Liberator</a></li>
<li><a href="https://robots.thoughtbot.com/using-yesql-in-clojure">Using Yesql in Clojure</a></li>
<li><a href="https://robots.thoughtbot.com/writing-clojure-in-vim">Writing Clojure in Vim</a></li>
</ul>


  </div>
</article>

<article>
  <header class="seven columns">
    
      <h2><a href="/2014/02/14/vim-tagbar-with-objective-c/">Vim TagBar with Objective-C</a></h2>
    
    <p>
      <time datetime="2014-02-14 13:53:00 -0800" pubdate="pubdate">
        14 Feb 2014
      </time>
      <a class="permalink" title="Permalink" href="/2014/02/14/vim-tagbar-with-objective-c/">&infin;</a>
    </p>
  </header>

  <div class="post ten columns">
    <p>When working with large files in Vim,
<a href="http://majutsushi.github.io/tagbar/">Tagbar</a> has become an invaluable
part of my workflow. It provides a succinct list of methods, modules,
variables and other language specific constructs. When I started trying
to spend more time in Vim writing Objective-C I was disappointed to see
that, out of the box, it was not supported.</p>

<p>Hopefully in the future it won't be difficult to set this up in Vim.
Currently ctags <a href="https://svn.code.sf.net/p/ctags/code/trunk/objc.c">already
has</a> built in support
for Objective-C. Unfortunately there hasn't been a release of ctags
since 2009. As recommended in the <a href="http://bastibe.de/2011-12-04-how-to-make-tagbar-work-with-objective-c.html">canonical how to
article</a>
you can attempt to use the trunk version of ctags and just define the
Tagbar settings. For me, this ended up producing a ton of
mis-categorized duplicates. I also opened and closed <a href="https://github.com/majutsushi/tagbar/issues/193">an
issue</a> on the Tagbar
Github repo hoping that Objective-C support will be added by default in
the future.</p>

<p>The only other resource I could find about this issue was <a href="https://gist.github.com/yamaya/5598909">this
gist</a>. It uses regex to define
Objective-C to ctags and then match it with Tagbar. I improved it a
little bit and came up with this. Put this file anywhere you want, you
will define its path in your vimrc.</p>

<pre><code>--langdef=objc
--langmap=objc:.m..mm..h
--regex-objc=/\@interface[[:space:]]+([[:alnum:]_]+)/\1/i,interface/
--regex-objc=/\@implementation[[:space:]]+([[:alnum:]_]+)/\1/I,implementation/
--regex-objc=/\@protocol[[:space:]]+([[:alnum:]_]+)/\1/P,protocol/
--regex-objc=/\@property[[:space:]]+\([[:alnum:],[:space:]]+\)[[:space:]]+[[:alnum:]_]+[[:space:]]+\*?([[:alnum:]_]+)/\1/p,property/
--regex-objc=/([-+])[[:space:]]*\([[:alpha:]_][^)]*\)[[:space:]]*([[:alpha:]_][^:;{]+).*/\1\2/M,method definition/
--regex-objc=/^[^#@[:space:]][^=]*[[:space:]]([[:alpha:]_][[:alnum:]_]*)[[:space:]]*=/\1/c,constant/
--regex-objc=/^[[:space:]]*typedef[[:space:]][^;]+[[:space:]]([[:alpha:]_][[:alnum:]]*)[[:space:]]*;/\1/t,typedef/
--regex-objc=/^[[:space:]]*NS_ENUM\([[:alnum:]]+[[:space:]]*,[[:space:]]([[:alnum:]]+)\)/\1/e,enum/
--regex-objc=/^#pragma[[:space:]]+mark[[:space:]]+-?[[:space:]]+([[:alnum:][:space:]]+)/\1/g,pragma/
</code></pre>

<p>Then in your vimrc:</p>

<div class="highlight"><pre><code class="language-vim" data-lang="vim"><span class="k">let</span> <span class="k">g</span>:tagbar_type_objc <span class="p">=</span> {
  \ <span class="s1">&#39;ctagstype&#39;</span>: <span class="s1">&#39;objc&#39;</span><span class="p">,</span>
  \ <span class="s1">&#39;ctagsargs&#39;</span>: [
    \ <span class="s1">&#39;-f&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;-&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;--excmd=pattern&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;--extra=&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;--format=2&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;--fields=nksaSmt&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;--options=&#39;</span> . expand<span class="p">(</span><span class="s1">&#39;~/.vim/objctags&#39;</span><span class="p">),</span>
    \ <span class="s1">&#39;--objc-kinds=-N&#39;</span><span class="p">,</span>
  \ ]<span class="p">,</span>
  \ <span class="s1">&#39;sro&#39;</span>: <span class="s1">&#39; &#39;</span><span class="p">,</span>
  \ <span class="s1">&#39;kinds&#39;</span>: [
    \ <span class="s1">&#39;c:constant&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;e:enum&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;t:typedef&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;i:interface&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;P:protocol&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;p:property&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;I:implementation&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;M:method&#39;</span><span class="p">,</span>
    \ <span class="s1">&#39;g:pragma&#39;</span><span class="p">,</span>
  \ ]<span class="p">,</span>
\ }</code></pre></div>


<p>Replace the <code>~/.vim/objctags</code> with the path where you chose to put the
first file. Please let me know if you see any way that this could be
improved.</p>

  </div>
</article>


<!-- Pagination links -->
<div class="pagination ten columns">
  
    <div class="older">
      <span class="pagearrow">&larr;</span>
      <a href="/page2">Older</a>
    </div>
  

  <div class="pagearchive">
    <a href="/archives/">Blog Archive</a>
  </div>

  
    <div class="newer">&nbsp;</div>
  
</div>

      </section>
    </section>
  </body>
</html>
